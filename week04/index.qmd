---
title: "Week 04: Agentic AI with CLIs like Claude Code"
subtitle: "From chat to terminal - AI that works directly with your files"
date: "2026-02-05"
---

::: {.hero-section}
::: {.container}
::: {.hero-title}
Week 04: Agentic AI with Claude Code
:::
::: {.hero-subtitle}
From chat to terminal - AI that works directly with your files
:::
:::
:::

---

![](../images/week4_pic.png)

## About the class

So far we've used AI through chat interfaces - copying code back and forth, describing our data, pasting error messages. This week we introduce **[agentic AI](../da-knowledge/technical-terms-page.html)**: AI that can see your files, run your code, and iterate on results directly. It is a command-line interface (CLI) -- it runs in your terminal. You type commands, the AI responds with code, runs it, and shows results - all in one place. It can assemble knowledge with great deal of automation.  

Instead of describing your data to an AI, you can say "look at these CSV files and tell me what's here." Instead of copying error messages, Claude Code sees them and fixes the code itself.

### Tool Options

We use **Claude Code** in this class, but the concepts apply to similar tools:

| Tool | Provider | Notes |
|------|----------|-------|
| **[Claude Code](https://claude.com/product/claude-code)** | Anthropic | What we use. Requires Claude Pro or API. |
| **[Gemini CLI](https://geminicli.com/)** | Google | Similar workflow, uses Gemini models. |
| **[Codex CLI](https://developers.openai.com/codex/cli/)** | OpenAI | OpenAI's command-line tool. |
| **[Copilot in VS Code](https://github.com/features/copilot)** | GitHub/OpenAI | AI-powered code completion in VS Code. |
| **[Cursor](https://cursor.com/) / [Windsurf](https://windsurf.com/)** | Third-party | IDE-based, similar agentic features. |
| **[Antigravity](https://antigravity.google/)** | Google | IDE with AI coding assistance. |

There are differences in capabilities and focus, but the core concepts are the same.

Everything you learn today transfers to these alternatives. The prompts, the workflow, the verification habits - all the same. So, we'll use Claude Code as we go but just replace it with other tools. Also, tools are keep evolving, so focus on process more than specifics of a tool. 

### Learning Objectives

By the end of this session, students will:

* Understand the difference between chat-based AI and agentic AI tools
* Install and configure Claude Code on their machine
* Use Claude Code to explore, understand, and analyze a multi-file dataset
* Experience the workflow difference: iteration speed, context awareness, debugging

### Before class

::: {.week-card .card}
::: {.card-header}
**Setup Required - Do This Before Class**
:::
::: {.card-body}

**1. Installation and setup**

Follow the installation guide: **[Installing AI CLI Tools](../da-knowledge/install-cli.html)**

We use Claude Code, but Gemini CLI or Codex CLI also work. The guide covers all options for Windows, Mac, and Linux. 

Claude Code lives in the Terminal. *New to the terminal?* Start with [Terminal Basics](../da-knowledge/terminal-basics.html)

**2. Ensure python**

Claude Code can run Python code, so Python must be installed:

- Download from [python.org/downloads](https://www.python.org/downloads/)
- **Check "Add Python to PATH"** during installation
- Install packages: `python -m pip install pandas numpy matplotlib`

**3. Ensure you have a GitHub account**

- and know how basics of working with git

:::
:::

## Class Plan



::: {.week-card .card}
::: {.card-header}
ü§ù **Review on readme docs (20 min)**
:::
::: {.card-body}

### Review Readme assignment

* broad discussion of experience

### What worked, what was different? 

* First run
* Extended context window run 1 (create a system prompt)
* Extended context window run 2 (with slideshows)


### Problems with AI generated reports.

Read each other document.

* control?
* style?
 
 
 
:::
:::





::: {.week-card .card}
::: {.card-header}
**Part 1: Why CLI with Agentic AI? (30 min)**
:::
::: {.card-body}


### Why CLI Tools? The Core Benefits

Think about the friction in using chat-based AI for data analysis:

1. Copy CSV/code ‚Üí Paste to ChatGPT
2. Upload files directly - expensive for free plans
3. See error ‚Üí Copy error ‚Üí Paste back to ChatGPT
4. Repeat...

**CLI tools eliminate this friction:**

**Files are already there**
- Claude Code sees your CSV files, R scripts, and outputs directly
- No uploading, no copy-paste, no describing your data structure
- Just: "Look at these files and calculate average occupancy by city"

**Code runs immediately**
- AI writes code and executes it in one step
- Sees errors and fixes them automatically
- You get results, not just code snippets

**Context stays intact**
- Remembers your entire project structure
- Understands how files relate to each other (`hotels.csv` joins with `cities.csv`)
- Keeps track of what you've done across multiple steps

**Iteration is fast**
- "Something looks wrong" ‚Üí AI investigates without you copying data
- "Try it a different way" ‚Üí Runs new approach immediately
- No manual round-trips for every change

::: {.callout-tip}
## Want More Power Features?

This covers the basics to get started. For advanced workflows (custom commands, git integration, large-scale data handling), see [Advanced CLI Workflows](../da-knowledge/cli-advanced-workflows.html).
:::

### What Stays the Same

- **Underlying intelligence**: Both use state-of-the-art models (Claude Sonnet/Opus 4.5 vs. Gemini 3.0 Pro/Flash) with comparable reasoning for statistical analysis and code generation

- **Natural language interface**: Describe tasks in plain language: "Clean this dataset and create a summary statistics table" or "Debug why my regression results look wrong"

- **Iterative refinement**: Both support conversational debugging‚Äîask the CLI to fix errors, try different estimation methods, or refine exhibit formatting through multiple rounds

- **Your preferences respected**: Both learn and apply your coding standards (tidyverse, viridis, clean functions) once configured through their respective `.md` instruction files

- **Multimodal input for data work**:  Both handle various data formats: CSV, Excel, PDFs, images of tables/charts. Useful for extracting data from PDFs, reproducing charts from papers, or generating code from hand-drawn sketches


---


### Discussion: How Would You Do This?

**Task:** "What's the average hotel occupancy by city in this dataset?"

You have a folder with several CSV files. You want to answer this question using AI assistance.

**Think-pair-share (10 min):**

1. What steps would you take using ChatGPT or Claude.ai (chat interface)?
2. What information would you need to give the AI?
3. What could go wrong? How would you handle errors?

*Discuss with a neighbor, then share with the class.*

<!-- Instructor: Common answers to elicit from students

- Open files, copy some rows to show the AI
- Describe the data structure ("I have a CSV with columns...")
- Ask for code, copy it to Python/R
- If error, copy error message back
- Iterate until it works...

Key point: Every step requires manual copy-paste. Context gets lost easily.
-->

**The friction:** Every step requires manual copy-paste. Context gets lost. Errors require round-trips.


:::
:::



::: {.week-card .card}
::: {.card-header}
**Part 2: Hands-on - First steps (25 min)**
:::
::: {.card-body}


### Setting Up Claude Code

***set up folder***

Create a git project folder for the Austrian Hotels data `austrian-hotels-data`

***get the data***

Download the Austrian Hotels dataset from [here](../case-studies/austria-hotels/data/data-modified.zip).

***launch Claude Code***

Open your terminal, navigate to your data folder:
```
cd path/to/austrian-hotels-data
claude
```



### Task 1: setup

* Ask to set up a data analysis project folder with data already there.

* Have a look, ask changes if you'd like

### Task 2: data

* Get all csv files in the /data folder

* Ask for a summary of data tables

* Interact to learn more about the data
  * What files are in this folder? Give me a quick overview.
  * Show me 5 sample rows from each CSV file.

### Task 3: relations

* ask to look at data as linked tables, and tell you keys to join them
  * Read the hotels and cities files. How are they related? What's the join key?
  
### Task 4: simple analysis

* Look at the CSV files here and calculate average occupancy by city
* write python code, run it, and show results


<!-- Instructor: Expected output from demo

Average Occupancy Rate by City:
Vienna           98.0%
Graz             82.8%
Innsbruck        79.9%
Linz             79.3%
Hallstatt        75.4%
Bad Gastein      75.0%
St. Anton        74.1%
Zell am See      74.0%
Kitzb√ºhel        73.1%

Note: Vienna at 98% is suspiciously high - can mention this as
a data quality point. Only 9 cities appear (should be 10).
-->



### Task 5 Discussions

* How does this compare to using ChatGPT?
* Where do you see the biggets advantages? Any downsides or risks?

<!-- Instructor: Exercise 1 expected findings

Files in folder:
- hotels_modified.csv (87 hotels)
- cities_modified.csv (10 cities)
- monthly_occupancy_modified.csv (2,088 rows - 87 hotels √ó 24 months)

Join key: city (text) connects hotels to cities
Also: hotel_id connects hotels to monthly_occupancy

Students should notice:
- hotels has city names, cities has city details (province, population)
- monthly_occupancy has hotel_id, month, year, occupancy_rate, avg_daily_rate
-->


* What analysis questions could you ask with this data?

:::
:::




::: {.week-card .card}
::: {.card-header}
**Part 3: Hands-on - Cleaning **
:::
::: {.card-body}


### Task 1: Class discussion on potential problems

* what are the crucial steps when cleaning tabular data

### Task 2: Cleaning with Claude Code

* Use claude code to find problems. 
* create clean versions of data tables in a new folder `/data_cleaned`


:::
:::



::: {.week-card .card}
::: {.card-header}
**Part 4: Hands-on - Joining tables**
:::
::: {.card-body}


### Task 1: quick review on joins

- Review of key concepts [Joining Tables Guide](../da-knowledge/joining-tables.html)

### Task 2 joining tables

1. **Join hotels and cities** - "Join the hotels and cities data. How many hotels are in each province?"

2. **Aggregate occupancy** - "What's the average occupancy rate by city? Show me a table sorted highest to lowest."

3. **Find patterns** - "Which 5-star hotels have the lowest average daily rate? Something seems off - investigate."

**Tips:**

- If something looks wrong, ask "Why did that happen?" or "Check the row counts"
- Ask Claude Code to show intermediate steps: "Show me the data after the join, before aggregating"
- If you get an error, just wait - Claude Code will often fix it automatically

### Task 3, manual check

* open a created data table and look into it. 
* how would you test and debug?


<!-- Instructor: Exercise 2 expected outputs

1. Hotels by province:
   Salzburg         25 hotels
   Tyrol            22 hotels
   Vienna           15 hotels
   Carinthia        10 hotels
   Styria            8 hotels
   Upper Austria     7 hotels

2. Occupancy by city (same as demo - good chance to verify)

3. 5-star hotels with low ADR - this is a data quality exercise:
   Students should find some 5-star hotels with surprisingly low
   rates. Prompt them to investigate: are these real? Missing data?
   Seasonal patterns? This teaches the "trust but verify" habit.
-->



:::
:::


::: {.week-card .card}
::: {.card-header}
**Part 5: Hands-on Generate New Data**
:::
::: {.card-body}

### The Power Move: AI Creates Data

One of the most useful capabilities of Claude Code is generating realistic simulated data. This is exactly how the Austrian Hotels dataset was created - by an earlier version of Claude!

### Task 1: Creating Booking Channel Data

* Let us create a new data table: 

```
I want to create a new CSV file called hotel_bookings.csv that shows
what percentage of each hotel's bookings come from different channels
Write Python code to generate this, using the hotels_modified.csv as input.
```

* How could you be more specific to get realistic patterns?
* How would you check?

<!-- Instructor: Exercise 2 expected outputs

```
I want to create a new CSV file called hotel_bookings.csv that shows
what percentage of each hotel's bookings come from different channels
(Direct, Booking.com, Expedia, HRS, Travel Agent).

Requirements:
- Each hotel should have rows for each channel
- Percentages should sum to 100% for each hotel
- 5-star hotels should have more direct bookings (35-45%)
- 3-star hotels should rely more on OTAs (Booking.com 40%+)
- Include a commission rate column (Direct=0%, OTAs=10-18%)

Write Python code to generate this, using the hotels_modified.csv as input.
```

Claude Code will:

1. Read the existing hotels data
2. Write a Python script with realistic logic
3. Run it and generate the CSV
4. Show you a summary




Your turn! Brainstorm a new data table that could join to the hotels data. Ideas:

| Table Idea | Join Key | Interesting Analysis |
|------------|----------|---------------------|
| **Weather by city/month** | city + month + year | Does weather affect occupancy? |
| **Staff data** | hotel_id | Do more staff = better reviews? |
| **Nearby attractions** | city | Which attractions drive tourism? |
| **Renovation history** | hotel_id | Did renovations boost ratings? |
| **Competitor Airbnb prices** | city + month | How do hotel prices compare? |

**Steps:**

1. Pick a table idea with your group
2. Write a detailed prompt describing what you want (columns, realistic patterns, join keys)
3. Ask Claude Code to generate it
4. Verify: Does it look realistic? Can you join it to hotels?
5. Do one simple analysis with the joined data

<!-- Instructor: Exercise 3 facilitation notes

Most popular choices tend to be:
- Weather data (easy to generate, clear patterns)
- Staff data (simple 1:1 join)

Help groups who are stuck with prompt structure:
"I want to create [filename] with columns [list columns].
The data should [describe realistic patterns].
It should join to hotels on [join key]."

Common issues:
- Percentages that don't sum to 100
- Join keys that don't match (typos, case sensitivity)
- Unrealistic value ranges

Encourage groups to share their tables and analyses at the end.
-->

:::
:::

-->

::: {.week-card .card}
::: {.card-header}
**Part 6: Debugging and Iteration**
:::
::: {.card-body}

### When Things Go Wrong

Claude Code isn't perfect. Common issues:

- **Wrong join type** - Ask: "How many rows before and after the join? Did we lose data?"
- **Missing values** - Ask: "Are there NaN values? Where did they come from?"
- **Unexpected results** - Ask: "Walk me through the calculation step by step"
- **Code errors** - Often Claude Code fixes these automatically. If not, just describe what went wrong.
- **[Hallucinations](../da-knowledge/technical-terms-page.html#hallucination)** - AI may generate plausible but incorrect code or stats. Always verify.

### Trust but Verify

**Always check:**

- Row counts after joins
- Summary statistics (do means make sense?)
- A few random rows (do values look realistic?)

**Good habit:** Ask Claude Code to explain what it did:
```
Explain the code you just wrote. What assumptions did you make?
```

<!-- Instructor: Part 4 common student issues

During exercises, watch for:
- Students who accept wrong results without checking
- Joins that lose rows (inner join when left was needed)
- Column name mismatches (city vs City)
- Students who don't read error messages before re-prompting

Good teachable moments:
- When Claude Code makes a mistake and fixes it automatically
- When a result looks plausible but is wrong
- When asking "explain this" reveals a faulty assumption
-->

:::
:::

## Operation tips

* use git projects
  * as CLI tools are file-based, it's easier to manage with git
  * also gives you version control and backup (if something goes wrong you can pull back to a working state)
  

* start with
  * higher level review: what do I have in the folder?
  * thinking and plan first
  * execute


**resources**

* [Claude Code common workflows](https://code.claude.com/docs/en/common-workflows)
* [Clude Code skills](https://code.claude.com/docs/en/features-overview)
* [Gemini Gems](https://gemini.google/overview/gems/)


## Bottom Line for Data Analysis

CLI tools shine when you have:

- Complex multi-file projects with data pipelines (`raw ‚Üí clean ‚Üí analysis ‚Üí exhibits`)
- Need for reproducible workflows that others can run
- Large datasets or documents requiring substantial context
- Iterative analysis where the AI should test and debug autonomously

The chatbox remains better for:

- Quick one-off questions or code snippets
- Exploratory conversations about methodology
- Situations where you want tight control over each step


## Discussion Questions


**End of Class Reflection:**

1. **Workflow change:** How did using Claude Code feel different from chat-based AI? What was faster? What was harder?

2. **Trust calibration:** When did you trust Claude Code's output? When did you double-check? How do you decide?

3. **Use cases:** For what tasks would you now prefer Claude Code over ChatGPT/Claude.ai? When would you still use chat?

4. **Data generation:** What did you learn from creating synthetic data? How could this help in your own projects?

<!-- Instructor: Discussion question expected themes

1. Workflow change:
   - Faster: no copy-paste, sees errors immediately, keeps context
   - Harder: less control, can't easily undo, terminal unfamiliar
   - Some students prefer chat for "thinking out loud"

2. Trust calibration:
   - Trusted: file listings, basic calculations, code that runs
   - Verified: join results (row counts!), summary statistics, edge cases
   - Key insight: output that "looks right" isn't always right

3. Use cases:
   - Claude Code: multi-file projects, iteration, debugging
   - Chat: learning concepts, one-off questions, no setup needed
   - Both have their place!

4. Data generation:
   - Surprising how realistic AI-generated data can be
   - Need clear specs or you get generic results
   - Useful for testing, teaching, prototyping
-->


## Assignment

::: {.callout-note icon="assignment"}
## Assignment 4: Extend the Austrian Hotels Dataset

**Due:** Sunday 23:55 before Week 5

[Full Assignment Details](../assignments/assignment_04.html){.assignment-badge}

**Summary:** Using Claude Code, create a new data table that joins to the Austrian Hotels dataset, then perform an analysis that answers an interesting question.
:::


## Resources

**Claude Code & Terminal:**

- [Terminal Basics](../da-knowledge/terminal-basics.html) - Essential commands
- [Install Claude Code](../da-knowledge/install-cli.html#claude-code) - Installation guide
- [Claude Code Documentation](https://docs.anthropic.com/en/docs/claude-code) - Official docs

**Additional references**

- [Short showcase of what is possible now (2026 Jan) )](https://www.youtube.com/watch?v=hiISl558JGE) -- must watch 15 mins


**Course Reference:**

- [Technical Terms Glossary](../da-knowledge/technical-terms-page.html) - Key AI/data concepts
- [Joining Tables Guide](../da-knowledge/joining-tables.html) - Join types explained
- [Advanced CLI Workflows](../da-knowledge/cli-advanced-workflows.html) - Power features for experienced users

**Austrian Hotels Dataset:**

- [Dataset Overview](../case-studies/austria-hotels/) - All files and documentation
- [Data Schema](../case-studies/austria-hotels/data/hotel-data-readme.md) - Table descriptions and relationships

**Python Basics (if needed):**

- [Python for Data Analysis](https://wesmckinney.com/book/) - Free online book
- pandas documentation: [pandas.pydata.org](https://pandas.pydata.org/)


## Some personal comments

* This is where AI gets genuinely useful for data work. Chat interfaces are great for learning and quick questions, but agentic AI changes how you actually *do* the work.
* The booking channel data we use in class? It was generated by Claude Code while preparing this course. Meta, isn't it?
* Don't worry if setup takes time. Getting your environment right is a one-time cost that pays off quickly.
