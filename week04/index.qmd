---
title: "Week 04: Agentic AI with CLIs like Claude Code"
subtitle: "From chat to terminal - AI that works directly with your files"
date: "2026-01-30"
---

::: {.hero-section}
::: {.container}
::: {.hero-title}
Week 04: Agentic AI with Claude Code
:::
::: {.hero-subtitle}
From chat to terminal - AI that works directly with your files
:::
:::
:::

---

![](../images/week4_pic.png)

## About the class

So far we've used AI through chat interfaces - copying code back and forth, describing our data, pasting error messages. This week we introduce **[agentic AI](../da-knowledge/technical-terms-page.html)**: AI that can see your files, run your code, and iterate on results directly. It is a command-line interface (CLI) -- it runs in your terminal. You type commands, the AI responds with code, runs it, and shows results - all in one place. It can assemble knowledge with great deal of automation.  

Instead of describing your data to an AI, you can say "look at these CSV files and tell me what's here." Instead of copying error messages, Claude Code sees them and fixes the code itself.

### Tool Options

We use **Claude Code** in this class, but the concepts apply to similar tools:

| Tool | Provider | Notes |
|------|----------|-------|
| **[Claude Code](https://claude.com/product/claude-code)** | Anthropic | What we use. Requires Claude Pro or API. |
| **[Gemini CLI](https://geminicli.com/)** | Google | Similar workflow, uses Gemini models. |
| **[Codex CLI](https://developers.openai.com/codex/cli/)** | OpenAI | OpenAI's command-line tool. |
| **[Copilot in VS Code](https://github.com/features/copilot)** | GitHub/OpenAI | AI-powered code completion in VS Code. |
| **[Cursor](https://cursor.com/) / [Windsurf](https://windsurf.com/)** | Third-party | IDE-based, similar agentic features. |
| **[Antigravity](https://antigravity.google/)** | Google | IDE with AI coding assistance. |

Everything you learn today transfers to these alternatives. The prompts, the workflow, the verification habits - all the same. So, we'll use Claude Code as we go but just replace it with other tools. Also, tools are keep evolving, so focus on process more than specifics of a tool.

### Learning Objectives

By the end of this session, students will:

* Understand the difference between chat-based AI and agentic AI tools
* Install and configure Claude Code on their machine
* Use Claude Code to explore, understand, and analyze a multi-file dataset
* Generate new data programmatically using Claude Code
* Experience the workflow difference: iteration speed, context awareness, debugging

### Before class

::: {.week-card .card}
::: {.card-header}
**Setup Required - Do This Before Class**
:::
::: {.card-body}

**1. Installation and setup**

Follow the installation guide: **[Installing AI CLI Tools](../da-knowledge/install-cli.html)**

We use Claude Code, but Gemini CLI or Codex CLI also work. The guide covers all options for Windows, Mac, and Linux. 

Claude Code lives in the Terminal. *New to the terminal?* Start with [Terminal Basics](../da-knowledge/terminal-basics.html)

Claude Code runs Python code, so Python must be installed:

- Download from [python.org/downloads](https://www.python.org/downloads/)
- **Check "Add Python to PATH"** during installation
- Install packages: `python -m pip install pandas numpy matplotlib`

**2. Download the data**

Get [data-modified.zip](../case-studies/austria-hotels/data/data-modified.zip) from the Austrian Hotels case study and unzip it.

:::
:::

## Class Plan

::: {.week-card .card}
::: {.card-header}
**Part 1: Why Agentic AI? (30 min)**
:::
::: {.card-body}


### Key Innovations: Why Use CLI Tools?

**Direct file system access**

- CLI tools operate directly in your project directory, reading data files, scripts, and outputs without manual uploads
- Claude Code provides seamless local access to your R/Stata scripts and data
- Gemini CLI offers `--include-directories` flags to explicitly include multiple directories—useful when your data lives in `/data/raw/`, `/data/clean/`, and `/exhibits/` across different locations

**Autonomous command execution**

- Both tools can run your R/Stata/Python scripts, install packages, and execute bash commands
- They can test code, catch errors, and iterate automatically—running `Rscript analysis.R`, checking outputs, and debugging without you copying error messages back
- Gemini's "Yolo Mode" (`-y`) chains commands without permission prompts; Claude Code maintains interactive safety controls while offering similar autonomous iteration

**Workflow automation for reproducible research**

- Claude Code: Create custom slash commands (e.g., `/clean-data`, `/make-exhibits`) in `.claude/commands/` that encode entire analysis pipelines. These travel with your repo, ensuring reproducibility
- Gemini: Uses Model Context Protocol (MCP) with Extension Gallery plug-ins—particularly powerful for connecting to BigQuery, Google Drive, or APIs where your raw data might live

**Multi-file project understanding**

- Both understand relationships across your entire project: how `01_data_clean.R` feeds into `02_analysis.R` and ultimately produces `exhibit_table1.tex`
- **Gemini excels**: 1M+ token context window lets you load entire large datasets (e.g., 500-page PDFs, massive CSV files) in one session
- **Claude Code excels**: Coordinated multi-file edits with deep understanding of script dependencies—can update data cleaning, analysis, and visualization scripts in one coherent workflow

**Project-specific instructions**

- Claude Code reads `CLAUDE.md`; Gemini reads `GEMINI.md` files at global, project, and folder levels
- Both enforce your preferences automatically: tidyverse syntax, viridis colors, clean function-based code, specific exhibit formatting
- Particularly useful for maintaining consistency across case studies or ensuring all team members follow the same data analysis standards

**Version control integration**

- Claude Code provides robust git workflow management: can create commits, branches, review history to understand why you made analytical decisions
- **Gemini's Checkpointing**: Saves entire "thinking sessions"—valuable when exploring alternative model specifications or data transformations, letting you roll back experiments that didn't work

**Real-time information access**

- Claude Code integrates web search for updated documentation
- **Gemini's native Google Search Grounding**: Ensures package versions and API documentation are current—critical when working with rapidly-evolving R/Python packages.


## What Stays the Same

- **Underlying intelligence**: Both use state-of-the-art models (Claude Sonnet/Opus 4.5 vs. Gemini 3.0 Pro/Flash) with comparable reasoning for statistical analysis and code generation

- **Natural language interface**: Describe tasks in plain language: "Clean this dataset and create a summary statistics table" or "Debug why my regression results look wrong"

- **Iterative refinement**: Both support conversational debugging—ask the CLI to fix errors, try different estimation methods, or refine exhibit formatting through multiple rounds

- **Your preferences respected**: Both learn and apply your coding standards (tidyverse, viridis, clean functions) once configured through their respective `.md` instruction files

- **Multimodal input for data work**:  Both handle various data formats: CSV, Excel, PDFs, images of tables/charts. Useful for extracting data from PDFs, reproducing charts from papers, or generating code from hand-drawn sketches


---

### Bottom Line for Data Analysis

CLI tools shine when you have:

- Complex multi-file projects with data pipelines (`raw → clean → analysis → exhibits`)
- Need for reproducible workflows that others can run
- Large datasets or documents requiring substantial context
- Iterative analysis where the AI should test and debug autonomously

The chatbox remains better for:

- Quick one-off questions or code snippets
- Exploratory conversations about methodology
- Situations where you want tight control over each step

### Discussion: How Would You Do This?

**Task:** "What's the average hotel occupancy by city in this dataset?"

You have a folder with several CSV files. You want to answer this question using AI assistance.

**Think-pair-share (10 min):**

1. What steps would you take using ChatGPT or Claude.ai (chat interface)?
2. What information would you need to give the AI?
3. What could go wrong? How would you handle errors?

*Discuss with a neighbor, then share with the class.*

<!-- Instructor: Common answers to elicit from students

- Open files, copy some rows to show the AI
- Describe the data structure ("I have a CSV with columns...")
- Ask for code, copy it to Python/R
- If error, copy error message back
- Iterate until it works...

Key point: Every step requires manual copy-paste. Context gets lost easily.
-->

**The friction:** Every step requires manual copy-paste. Context gets lost. Errors require round-trips.

### Demo: The Agentic Approach

Now watch what happens with Claude Code:

```
cd /path/to/austrian-hotels
claude
> Look at the CSV files here and calculate average occupancy by city
```

Claude Code reads the files, writes the code, runs it, sees any errors, fixes them, and shows results. One prompt, no copy-paste.

<!-- Instructor: Expected output from demo

Average Occupancy Rate by City:
Vienna           98.0%
Graz             82.8%
Innsbruck        79.9%
Linz             79.3%
Hallstatt        75.4%
Bad Gastein      75.0%
St. Anton        74.1%
Zell am See      74.0%
Kitzbühel        73.1%

Note: Vienna at 98% is suspiciously high - can mention this as
a data quality point. Only 9 cities appear (should be 10).
-->

:::
:::

::: {.week-card .card}
::: {.card-header}
**Part 2: Hands-on - Explore the Dataset (25 min)**
:::
::: {.card-body}

### Getting Started

Open your terminal, navigate to your data folder:
```
cd path/to/austrian-hotels-data
claude
```

### Exercise 1: Understand the Data (Individual, 10 min)

Try these prompts:

```
What files are in this folder? Give me a quick overview.
```

```
Read the hotels and cities files. How are they related? What's the join key?
```

```
Show me 5 sample rows from each CSV file.
```

**Discuss:** How does this compare to opening each file manually or describing it to ChatGPT?

<!-- Instructor: Exercise 1 expected findings

Files in folder:
- hotels_modified.csv (87 hotels)
- cities_modified.csv (10 cities)
- monthly_occupancy_modified.csv (2,088 rows - 87 hotels × 24 months)

Join key: city (text) connects hotels to cities
Also: hotel_id connects hotels to monthly_occupancy

Students should notice:
- hotels has city names, cities has city details (province, population)
- monthly_occupancy has hotel_id, month, year, occupancy_rate, avg_daily_rate
-->

### Exercise 2: Basic Analysis (Individual, 15 min)

Ask Claude Code to:

1. **Join hotels and cities** - "Join the hotels and cities data. How many hotels are in each province?"
   - *New to joins? See [Joining Tables Guide](../da-knowledge/joining-tables.html)*

2. **Aggregate occupancy** - "What's the average occupancy rate by city? Show me a table sorted highest to lowest."

3. **Find patterns** - "Which 5-star hotels have the lowest average daily rate? Something seems off - investigate."

**Tips:**

- If something looks wrong, ask "Why did that happen?" or "Check the row counts"
- Ask Claude Code to show intermediate steps: "Show me the data after the join, before aggregating"
- If you get an error, just wait - Claude Code will often fix it automatically

<!-- Instructor: Exercise 2 expected outputs

1. Hotels by province:
   Salzburg         25 hotels
   Tyrol            22 hotels
   Vienna           15 hotels
   Carinthia        10 hotels
   Styria            8 hotels
   Upper Austria     7 hotels

2. Occupancy by city (same as demo - good chance to verify)

3. 5-star hotels with low ADR - this is a data quality exercise:
   Students should find some 5-star hotels with surprisingly low
   rates. Prompt them to investigate: are these real? Missing data?
   Seasonal patterns? This teaches the "trust but verify" habit.
-->

:::
:::


::: {.week-card .card}
::: {.card-header}
**Part 3: Generate New Data (30 min)**
:::
::: {.card-body}

### The Power Move: AI Creates Data

One of the most useful capabilities of Claude Code is generating realistic simulated data. This is exactly how the Austrian Hotels dataset was created - by an earlier version of Claude!

### Demo: Creating Booking Channel Data

Watch the instructor create a new data table:

```
I want to create a new CSV file called hotel_bookings.csv that shows
what percentage of each hotel's bookings come from different channels
(Direct, Booking.com, Expedia, HRS, Travel Agent).

Requirements:
- Each hotel should have rows for each channel
- Percentages should sum to 100% for each hotel
- 5-star hotels should have more direct bookings (35-45%)
- 3-star hotels should rely more on OTAs (Booking.com 40%+)
- Include a commission rate column (Direct=0%, OTAs=10-18%)

Write Python code to generate this, using the hotels_modified.csv as input.
```

Claude Code will:
1. Read the existing hotels data
2. Write a Python script with realistic logic
3. Run it and generate the CSV
4. Show you a summary

### Exercise 3: Create Your Own Data Table (Groups of 2-3, 20 min)

Your turn! Brainstorm a new data table that could join to the hotels data. Ideas:

| Table Idea | Join Key | Interesting Analysis |
|------------|----------|---------------------|
| **Weather by city/month** | city + month + year | Does weather affect occupancy? |
| **Staff data** | hotel_id | Do more staff = better reviews? |
| **Nearby attractions** | city | Which attractions drive tourism? |
| **Renovation history** | hotel_id | Did renovations boost ratings? |
| **Competitor Airbnb prices** | city + month | How do hotel prices compare? |

**Steps:**

1. Pick a table idea with your group
2. Write a detailed prompt describing what you want (columns, realistic patterns, join keys)
3. Ask Claude Code to generate it
4. Verify: Does it look realistic? Can you join it to hotels?
5. Do one simple analysis with the joined data

<!-- Instructor: Exercise 3 facilitation notes

Most popular choices tend to be:
- Weather data (easy to generate, clear patterns)
- Staff data (simple 1:1 join)

Help groups who are stuck with prompt structure:
"I want to create [filename] with columns [list columns].
The data should [describe realistic patterns].
It should join to hotels on [join key]."

Common issues:
- Percentages that don't sum to 100
- Join keys that don't match (typos, case sensitivity)
- Unrealistic value ranges

Encourage groups to share their tables and analyses at the end.
-->

:::
:::


::: {.week-card .card}
::: {.card-header}
**Part 4: Debugging and Iteration (10 min)**
:::
::: {.card-body}

### When Things Go Wrong

Claude Code isn't perfect. Common issues:

- **Wrong join type** - Ask: "How many rows before and after the join? Did we lose data?"
- **Missing values** - Ask: "Are there NaN values? Where did they come from?"
- **Unexpected results** - Ask: "Walk me through the calculation step by step"
- **Code errors** - Often Claude Code fixes these automatically. If not, just describe what went wrong.
- **[Hallucinations](../da-knowledge/technical-terms-page.html#hallucination)** - AI may generate plausible but incorrect code or stats. Always verify.

### Trust but Verify

**Always check:**

- Row counts after joins
- Summary statistics (do means make sense?)
- A few random rows (do values look realistic?)

**Good habit:** Ask Claude Code to explain what it did:
```
Explain the code you just wrote. What assumptions did you make?
```

<!-- Instructor: Part 4 common student issues

During exercises, watch for:
- Students who accept wrong results without checking
- Joins that lose rows (inner join when left was needed)
- Column name mismatches (city vs City)
- Students who don't read error messages before re-prompting

Good teachable moments:
- When Claude Code makes a mistake and fixes it automatically
- When a result looks plausible but is wrong
- When asking "explain this" reveals a faulty assumption
-->

:::
:::

## Discussion Questions

**End of Class Reflection:**

1. **Workflow change:** How did using Claude Code feel different from chat-based AI? What was faster? What was harder?

2. **Trust calibration:** When did you trust Claude Code's output? When did you double-check? How do you decide?

3. **Use cases:** For what tasks would you now prefer Claude Code over ChatGPT/Claude.ai? When would you still use chat?

4. **Data generation:** What did you learn from creating synthetic data? How could this help in your own projects?

<!-- Instructor: Discussion question expected themes

1. Workflow change:
   - Faster: no copy-paste, sees errors immediately, keeps context
   - Harder: less control, can't easily undo, terminal unfamiliar
   - Some students prefer chat for "thinking out loud"

2. Trust calibration:
   - Trusted: file listings, basic calculations, code that runs
   - Verified: join results (row counts!), summary statistics, edge cases
   - Key insight: output that "looks right" isn't always right

3. Use cases:
   - Claude Code: multi-file projects, iteration, debugging
   - Chat: learning concepts, one-off questions, no setup needed
   - Both have their place!

4. Data generation:
   - Surprising how realistic AI-generated data can be
   - Need clear specs or you get generic results
   - Useful for testing, teaching, prototyping
-->


## Assignment

::: {.callout-note icon="assignment"}
## Assignment 4: Extend the Austrian Hotels Dataset

**Due:** Sunday 23:55 before Week 5

[Full Assignment Details](../assignments/assignment_04.html){.assignment-badge}

**Summary:** Using Claude Code, create a new data table that joins to the Austrian Hotels dataset, then perform an analysis that answers an interesting question.
:::


## Resources

**Claude Code & Terminal:**

- [Terminal Basics](../da-knowledge/terminal-basics.html) - Essential commands
- [Setting Up Claude Code](../da-knowledge/setting-up-claude-code.html) - Installation guide
- [Claude Code Documentation](https://docs.anthropic.com/en/docs/claude-code) - Official docs

**Course Reference:**

- [Technical Terms Glossary](../da-knowledge/technical-terms-page.html) - Key AI/data concepts
- [Joining Tables Guide](../da-knowledge/joining-tables.html) - Join types explained

**Austrian Hotels Dataset:**

- [Dataset Overview](../case-studies/austria-hotels/) - All files and documentation
- [Data Schema](../case-studies/austria-hotels/data/hotel-data-readme.md) - Table descriptions and relationships

**Python Basics (if needed):**

- [Python for Data Analysis](https://wesmckinney.com/book/) - Free online book
- pandas documentation: [pandas.pydata.org](https://pandas.pydata.org/)


## Some personal comments

* This is where AI gets genuinely useful for data work. Chat interfaces are great for learning and quick questions, but agentic AI changes how you actually *do* the work.
* The booking channel data we use in class? It was generated by Claude Code while preparing this course. Meta, isn't it?
* Don't worry if setup takes time. Getting your environment right is a one-time cost that pays off quickly.
